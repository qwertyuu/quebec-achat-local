// Standard Meta
meta(charset='utf-8')
meta(http-equiv='X-UA-Compatible' content='IE=edge,chrome=1')
meta(name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0')
meta(property='og:url' content=fullUrl)
meta(property='og:type' content='article')
meta(property='og:title' content='Québec achat local')
meta(property='og:description' content='Site de référence pour acheter local au Québec')
meta(property='og:locale' content='fr_CA')
meta(property='og:image' content=hostname + '/assets/QcAL.jpg')
link(rel='apple-touch-icon' sizes='180x180' href='assets/apple-touch-icon.png')
link(rel='icon' type='image/png' sizes='32x32' href='assets/favicon-32x32.png')
link(rel='icon' type='image/png' sizes='16x16' href='assets/favicon-16x16.png')
link(rel='manifest' href='assets/site.webmanifest')
// Site Properties
link(rel='stylesheet' type='text/css' href='assets/semantic/dist/semantic.min.css')
style(type='text/css').
    html {
        background: #ffffff !important;
    }
    .ui.selection.dropdown .menu {
        max-height: 40vh;
    }
    #main-image {
        background-image: url("/assets/header.jpg");
        background-size: cover;
    }
    .text-qc {
        color: #305594!important;
    }
    .bg-qc {
        background: #305594!important;
    }
    .hidden.menu {
        display: none;
    }

    p {
        font-size: 1.1rem;
    }

    .container.main {
        padding-top: 4em;
        padding-bottom: 4em;
    }

    .masthead.segment {
        min-height: 650px;
    }

    .masthead .ui.menu .ui.button {
        margin-left: 0.5em;
    }

    .masthead h1.ui.header {
        margin-top: 3em;
        margin-bottom: 0em;
        font-size: 4em;
        font-weight: normal;
    }

    .masthead h2 {
        font-size: 1.7em;
        font-weight: normal;
    }

    .ui.vertical.stripe h3 {
        font-size: 2em;
    }

    .ui.vertical.stripe .button + h3,
    .ui.vertical.stripe p + h3 {
        margin-top: 3em;
    }

    .ui.vertical.stripe .floated.image {
        clear: both;
    }

    .ui.vertical.stripe p {
        font-size: 1.33em;
    }

    .footer.segment {
        padding: 5em 0em;
    }

    @media only screen and (max-width: 430px) {
        .propose {
            display: none!important;
        }
    }

    @media only screen and (max-width: 900px) {

        .about {
            display: none!important;
        }

        .masthead.segment {
            min-height: 350px;
        }

        .masthead h1.ui.header {
            font-size: 2em;
            margin-top: 1.5em;
        }

        .masthead h2 {
            margin-top: 0.5em;
            font-size: 1.5em;
        }
    }
script(src='https://code.jquery.com/jquery-3.4.1.min.js' integrity='sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=' crossorigin='anonymous')
script(src='assets/semantic/dist/semantic.min.js')
script(src='assets/Autolinker.min.js')
script.
    $(function () {
        // fix menu when passed
        $('.masthead')
            .visibility({
                once: false,
                onBottomPassed: function () {
                    $('.fixed.menu').transition('fade in');
                },
                onBottomPassedReverse: function () {
                    $('.fixed.menu').transition('fade out');
                }
            });
        // create sidebar and attach to menu open
        $('.ui.sidebar')
            .sidebar('attach events', '.toc.item');

        var autolinker = new Autolinker({
            urls: {
                schemeMatches: false,
                wwwMatches: false,
                tldMatches: false
            },
            email: false,
            phone: true,
            mention: false,
            hashtag: false,

            stripPrefix: false,
            stripTrailingSlash: false,
            newWindow: false,

            truncate: {
                length: 0,
                location: 'end'
            },

            className: ''
        });

        $('.description').each(function (index, element) {
            element.outerHTML = autolinker.link(element.outerHTML);
        });
    });
